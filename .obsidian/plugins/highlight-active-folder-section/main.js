/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => FolderHighlighter
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  useImportantTags: false,
  highlightedFolderColor: "#eeeeee",
  highlightFolderTitleColor: false,
  highlightedFolderTitleColor: "#ffffff00",
  highlightedFolderTextColor: "#000000",
  highlightParentFolder: false,
  highlightedParentFolderColor: "#dddddd",
  highlightedParentFolderTextColor: "#000000",
  highlightedFolderBorderRadius: "5px",
  highlightedParentFolderBorderRadius: "5px",
  highlightedFolderFontWeight: "bold",
  highlightedParentFolderFontWeight: "bold"
};
var FolderHighlighter = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.styleEl = null;
  }
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new FolderHighlighterSettingTab(this.app, this));
    this.updateStyles();
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", () => {
        this.highlightFolders();
      })
    );
    this.app.workspace.onLayoutReady(() => {
      this.highlightFolders();
      this.updateStyles();
      setTimeout(() => {
        this.updateStyles();
        this.highlightFolders();
      }, 500);
    });
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.updateStyles();
  }
  highlightFolders() {
    const activeFile = this.app.workspace.getActiveFile();
    if (!activeFile)
      return;
    const allFolders = document.querySelectorAll(".nav-folder");
    allFolders.forEach((folder) => {
      folder.classList.remove(
        "highlighted-folder",
        "highlighted-parent-folder",
        "highlighted-intermediate-folder"
      );
    });
    const currentFolder = this.getParentFolderElement(activeFile.path);
    if (currentFolder) {
      currentFolder.classList.add("highlighted-folder");
      if (this.settings.highlightParentFolder) {
        const rootFolder = this.getRootFolderInPath(activeFile.path);
        if (rootFolder && rootFolder !== currentFolder) {
          rootFolder.classList.add("highlighted-parent-folder");
        }
      }
    }
    const intermediateFolders = this.getIntermediateFoldersInPath(
      activeFile.path
    );
    for (const intermediateFolder of intermediateFolders) {
      if (intermediateFolder) {
        intermediateFolder.classList.add(
          "highlighted-intermediate-folder"
        );
      }
    }
  }
  getParentFolderElement(filePath) {
    const folderPaths = filePath.split("/");
    folderPaths.pop();
    let folderElement = null;
    while (folderPaths.length > 0) {
      const folderName = folderPaths.join("/");
      const possibleFolderElement = document.querySelector(
        `[data-path="${folderName}"]`
      );
      if (possibleFolderElement) {
        folderElement = possibleFolderElement.closest(".nav-folder");
        break;
      }
      folderPaths.pop();
    }
    return folderElement;
  }
  getRootFolderInPath(filePath) {
    var _a;
    const folderPaths = filePath.split("/");
    folderPaths.pop();
    if (folderPaths.length > 0) {
      const rootFolderName = folderPaths[0];
      return ((_a = document.querySelector(`[data-path="${rootFolderName}"]`)) == null ? void 0 : _a.closest(".nav-folder")) || null;
    }
    return null;
  }
  getIntermediateFoldersInPath(filePath) {
    const intermediateFolders = [];
    const folderPaths = filePath.split("/");
    folderPaths.pop();
    while (folderPaths.length > 1) {
      const folderName = folderPaths.join("/");
      const folderElement = document.querySelector(
        `[data-path="${folderName}"]`
      );
      if (folderElement) {
        intermediateFolders.push(folderElement.closest(".nav-folder"));
      }
      folderPaths.pop();
    }
    return intermediateFolders;
  }
  updateStyles() {
    if (!this.styleEl) {
      this.styleEl = document.createElement("style");
      this.styleEl.id = "folder-highlighter-styles";
      document.head.appendChild(this.styleEl);
    }
    const important = this.settings.useImportantTags ? " !important" : "";
    const styleContent = `
            .highlighted-folder {
                background-color: ${this.settings.highlightedFolderColor}${important};
                border-radius: ${this.settings.highlightedFolderBorderRadius}${important};
            }
            .highlighted-folder > .nav-folder-title {
                ${this.settings.highlightFolderTitleColor ? `background-color: ${this.settings.highlightedFolderTitleColor}${important};` : ""}
                color: ${this.settings.highlightedFolderTextColor}${important};
                border-radius: ${this.settings.highlightedFolderBorderRadius}${important};
                font-weight: ${this.settings.highlightedFolderFontWeight}${important};
            }
            .highlighted-parent-folder {
                background-color: ${this.settings.highlightedParentFolderColor}${important};
                border-radius: ${this.settings.highlightedParentFolderBorderRadius}${important};
            }
            .highlighted-parent-folder > .nav-folder-title {
                color: ${this.settings.highlightedParentFolderTextColor}${important};
                font-weight: ${this.settings.highlightedParentFolderFontWeight}${important};
                border-radius: ${this.settings.highlightedParentFolderBorderRadius}${important};
            }
            .highlighted-folder > .nav-folder-title:hover,
            .highlighted-folder > .nav-folder-title.is-being-dragged,
            .highlighted-parent-folder > .nav-folder-title:hover,
            .highlighted-parent-folder > .nav-folder-title.is-being-dragged {
                font-weight: ${this.settings.highlightedFolderFontWeight}${important};
            }
            .highlighted-folder .nav-file-title.is-active {
                font-weight: ${this.settings.highlightedFolderFontWeight}${important};
            }
            .highlighted-parent-folder .nav-file-title.is-active {
                font-weight: ${this.settings.highlightedParentFolderFontWeight}${important};
            }
        `;
    this.styleEl.textContent = styleContent;
  }
  onunload() {
    if (this.styleEl) {
      this.styleEl.remove();
    }
  }
};
var FolderHighlighterSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Overrides theme settings").setDesc(
      "Enable this to override theme styles with !important tags."
    ).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.useImportantTags).onChange(async (value) => {
        this.plugin.settings.useImportantTags = value;
        await this.plugin.saveSettings();
        this.plugin.updateStyles();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Active folder").setHeading();
    const createColorSetting = (name, desc, key) => {
      const savedColor = this.plugin.settings[key];
      let alphaValue = 1;
      if (typeof savedColor === "string") {
        const match2 = savedColor.match(
          /rgba\((\d+), (\d+), (\d+), ([\d.]+)\)/
        );
        if (match2) {
          alphaValue = parseFloat(match2[4]);
        }
      }
      const match = savedColor.match(
        /rgba\((\d+), (\d+), (\d+), ([\d.]+)\)/
      );
      if (match) {
        alphaValue = parseFloat(match[4]);
      }
      new import_obsidian.Setting(containerEl).setName(name).setDesc(desc).addText((text) => {
        var _a, _b, _c;
        text.setPlaceholder("#eeeeee").setValue(savedColor.toString()).onChange(async (value) => {
          this.plugin.settings[key] = value;
          await this.plugin.saveSettings();
        });
        text.inputEl.classList.add("input-width-150");
        const colorPicker = document.createElement("input");
        colorPicker.type = "color";
        const rgbColor = this.extractRgbFromRgba(
          savedColor.toString()
        );
        colorPicker.value = this.rgbToHex(rgbColor);
        colorPicker.title = "Choose a color";
        colorPicker.addEventListener(
          "input",
          async (event) => {
            const value = event.target.value;
            const rgb = this.hexToRgb(value);
            this.plugin.settings[key] = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${alphaValue})`;
            await this.plugin.saveSettings();
            text.setValue(this.plugin.settings[key]);
          }
        );
        (_a = text.inputEl.parentElement) == null ? void 0 : _a.appendChild(colorPicker);
        const transparencySlider = document.createElement("input");
        transparencySlider.type = "range";
        transparencySlider.min = "0";
        transparencySlider.max = "1";
        transparencySlider.step = "0.01";
        transparencySlider.value = alphaValue.toString();
        transparencySlider.classList.add("margin-left-10");
        transparencySlider.title = "Move the slider to adjust transparency";
        transparencySlider.addEventListener(
          "input",
          async (event) => {
            alphaValue = parseFloat(event.target.value);
            const rgb = this.hexToRgb(colorPicker.value);
            this.plugin.settings[key] = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${alphaValue})`;
            await this.plugin.saveSettings();
            text.setValue(this.plugin.settings[key]);
          }
        );
        (_b = text.inputEl.parentElement) == null ? void 0 : _b.appendChild(transparencySlider);
        const resetButton = document.createElement("button");
        resetButton.textContent = "Reset";
        resetButton.title = "Reset to previous color";
        resetButton.classList.add("margin-left-10");
        resetButton.addEventListener("click", async () => {
          this.plugin.settings[key] = savedColor;
          await this.plugin.saveSettings();
          const rgbColor2 = this.extractRgbFromRgba(
            savedColor.toString()
          );
          colorPicker.value = this.rgbToHex(rgbColor2);
          const alpha = this.extractAlphaFromRgba(
            savedColor.toString()
          );
          transparencySlider.value = alpha.toString();
          text.setValue(savedColor.toString());
        });
        (_c = text.inputEl.parentElement) == null ? void 0 : _c.appendChild(resetButton);
      });
    };
    createColorSetting(
      "Folder section background-color",
      "Choose a background-color of the active folder-container.",
      "highlightedFolderColor"
    );
    new import_obsidian.Setting(containerEl).setName("Folder background color").setDesc("Enable background-color of the folder title.").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.highlightFolderTitleColor).onChange(async (value) => {
        this.plugin.settings.highlightFolderTitleColor = value;
        if (!value) {
          this.plugin.settings.highlightedFolderTitleColor = "#ffffff00";
        }
        await this.plugin.saveSettings();
        this.display();
        this.plugin.updateStyles();
      })
    );
    if (this.plugin.settings.highlightFolderTitleColor) {
      createColorSetting(
        "Folder background-color",
        "Choose a color for the highlighted folder title.",
        "highlightedFolderTitleColor"
      );
    }
    createColorSetting(
      "Folder text color",
      "Choose a color for the highlighted folder text.",
      "highlightedFolderTextColor"
    );
    new import_obsidian.Setting(containerEl).setName("Highlighted folder font weight").setDesc("Set the font weight of the highlighted folder titles.").addDropdown(
      (dropdown) => dropdown.addOption("200", "Thin").addOption("400", "Normal").addOption("700", "Bold").setValue(
        this.plugin.settings.highlightedFolderFontWeight || "700"
      ).onChange(async (value) => {
        this.plugin.settings.highlightedFolderFontWeight = value;
        await this.plugin.saveSettings();
        this.plugin.updateStyles();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Folder border radius").setDesc("Set the border radius of the highlighted folder.").addSlider(
      (slider) => slider.setLimits(0, 50, 1).setValue(
        parseInt(
          this.plugin.settings.highlightedFolderBorderRadius
        )
      ).onChange(async (value) => {
        const radiusWithPx = `${value}px`;
        this.plugin.settings.highlightedFolderBorderRadius = radiusWithPx;
        await this.plugin.saveSettings();
        this.plugin.updateStyles();
      }).setDynamicTooltip()
      // Adds a tooltip showing the current value
    );
    new import_obsidian.Setting(containerEl).setName("Root folder").setHeading();
    new import_obsidian.Setting(containerEl).setName("Highlight root folder").setDesc(
      "Enable background-color of the root folder segment in the path to the active note."
    ).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.highlightParentFolder).onChange(async (value) => {
        this.plugin.settings.highlightParentFolder = value;
        await this.plugin.saveSettings();
        this.display();
      })
    );
    if (this.plugin.settings.highlightParentFolder) {
      createColorSetting(
        "Root folder section background-color",
        "Choose a background-color of the root folder segment.",
        "highlightedParentFolderColor"
      );
      createColorSetting(
        "Root folder text color",
        "Choose a color for the highlighted root folder text.",
        "highlightedParentFolderTextColor"
      );
      new import_obsidian.Setting(containerEl).setName("Highlighted root folder font weight").setDesc(
        "Set the font weight of the highlighted parent folder titles."
      ).addDropdown(
        (dropdown) => dropdown.addOption("200", "Thin").addOption("400", "Normal").addOption("700", "Bold").setValue(
          this.plugin.settings.highlightedParentFolderFontWeight || "700"
        ).onChange(async (value) => {
          this.plugin.settings.highlightedParentFolderFontWeight = value;
          await this.plugin.saveSettings();
          this.plugin.updateStyles();
        })
      );
      new import_obsidian.Setting(containerEl).setName("Root folder border radius").setDesc(
        "Set the border radius of the highlighted root folder."
      ).addSlider(
        (slider) => slider.setLimits(0, 50, 1).setValue(
          parseInt(
            this.plugin.settings.highlightedParentFolderBorderRadius
          )
        ).onChange(async (value) => {
          const radiusWithPx = `${value}px`;
          this.plugin.settings.highlightedParentFolderBorderRadius = radiusWithPx;
          await this.plugin.saveSettings();
          this.plugin.updateStyles();
        }).setDynamicTooltip()
      );
    }
  }
  // Helper function to convert hex color to RGB
  hexToRgb(hex) {
    const bigint = parseInt(hex.slice(1), 16);
    const r = bigint >> 16 & 255;
    const g = bigint >> 8 & 255;
    const b = bigint & 255;
    return { r, g, b };
  }
  // Helper function to extract RGB values from RGBA string
  extractRgbFromRgba(rgba) {
    const match = rgba.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);
    if (match) {
      return {
        r: parseInt(match[1]),
        g: parseInt(match[2]),
        b: parseInt(match[3])
      };
    }
    return { r: 0, g: 0, b: 0 };
  }
  // Helper function to extract alpha value from RGBA string
  extractAlphaFromRgba(rgba) {
    const match = rgba.match(/rgba?\(.*?,\s*([\d.]+)\)/);
    return match ? parseFloat(match[1]) : 1;
  }
  // Helper function to convert RGB to HEX
  rgbToHex(rgb) {
    return "#" + ((1 << 24) + (rgb.r << 16) + (rgb.g << 8) + rgb.b).toString(16).slice(1);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmludGVyZmFjZSBGb2xkZXJIaWdobGlnaHRlclNldHRpbmdzIHtcclxuXHR1c2VJbXBvcnRhbnRUYWdzOiBib29sZWFuO1xyXG5cdGhpZ2hsaWdodGVkRm9sZGVyQ29sb3I6IHN0cmluZztcclxuXHRoaWdobGlnaHRGb2xkZXJUaXRsZUNvbG9yOiBib29sZWFuO1xyXG5cdGhpZ2hsaWdodGVkRm9sZGVyVGl0bGVDb2xvcjogc3RyaW5nO1xyXG5cdGhpZ2hsaWdodGVkRm9sZGVyVGV4dENvbG9yOiBzdHJpbmc7XHJcblx0aGlnaGxpZ2h0UGFyZW50Rm9sZGVyOiBib29sZWFuO1xyXG5cdGhpZ2hsaWdodGVkUGFyZW50Rm9sZGVyQ29sb3I6IHN0cmluZztcclxuXHRoaWdobGlnaHRlZFBhcmVudEZvbGRlclRleHRDb2xvcjogc3RyaW5nO1xyXG5cdGhpZ2hsaWdodGVkRm9sZGVyQm9yZGVyUmFkaXVzOiBzdHJpbmc7XHJcblx0aGlnaGxpZ2h0ZWRQYXJlbnRGb2xkZXJCb3JkZXJSYWRpdXM6IHN0cmluZztcclxuXHRoaWdobGlnaHRlZEZvbGRlckZvbnRXZWlnaHQ6IHN0cmluZztcclxuXHRoaWdobGlnaHRlZFBhcmVudEZvbGRlckZvbnRXZWlnaHQ6IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRm9sZGVySGlnaGxpZ2h0ZXJTZXR0aW5ncyA9IHtcclxuXHR1c2VJbXBvcnRhbnRUYWdzOiBmYWxzZSxcclxuXHRoaWdobGlnaHRlZEZvbGRlckNvbG9yOiBcIiNlZWVlZWVcIixcclxuXHRoaWdobGlnaHRGb2xkZXJUaXRsZUNvbG9yOiBmYWxzZSxcclxuXHRoaWdobGlnaHRlZEZvbGRlclRpdGxlQ29sb3I6IFwiI2ZmZmZmZjAwXCIsXHJcblx0aGlnaGxpZ2h0ZWRGb2xkZXJUZXh0Q29sb3I6IFwiIzAwMDAwMFwiLFxyXG5cdGhpZ2hsaWdodFBhcmVudEZvbGRlcjogZmFsc2UsXHJcblx0aGlnaGxpZ2h0ZWRQYXJlbnRGb2xkZXJDb2xvcjogXCIjZGRkZGRkXCIsXHJcblx0aGlnaGxpZ2h0ZWRQYXJlbnRGb2xkZXJUZXh0Q29sb3I6IFwiIzAwMDAwMFwiLFxyXG5cdGhpZ2hsaWdodGVkRm9sZGVyQm9yZGVyUmFkaXVzOiBcIjVweFwiLFxyXG5cdGhpZ2hsaWdodGVkUGFyZW50Rm9sZGVyQm9yZGVyUmFkaXVzOiBcIjVweFwiLFxyXG5cdGhpZ2hsaWdodGVkRm9sZGVyRm9udFdlaWdodDogXCJib2xkXCIsXHJcblx0aGlnaGxpZ2h0ZWRQYXJlbnRGb2xkZXJGb250V2VpZ2h0OiBcImJvbGRcIixcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvbGRlckhpZ2hsaWdodGVyIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogRm9sZGVySGlnaGxpZ2h0ZXJTZXR0aW5ncztcclxuXHRwcml2YXRlIHN0eWxlRWw6IEhUTUxTdHlsZUVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEZvbGRlckhpZ2hsaWdodGVyU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuXHRcdC8vIEFwcGx5IHN0eWxlcyBpbW1lZGlhdGVseSBhZnRlciBsb2FkaW5nXHJcblx0XHR0aGlzLnVwZGF0ZVN0eWxlcygpO1xyXG5cclxuXHRcdC8vIFJlZ2lzdGVyIGV2ZW50IHRvIHVwZGF0ZSB0aGUgaGlnaGxpZ2h0ZWQgZm9sZGVyIHdoZW4gdGhlIGFjdGl2ZSBub3RlIGNoYW5nZXNcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiYWN0aXZlLWxlYWYtY2hhbmdlXCIsICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmhpZ2hsaWdodEZvbGRlcnMoKTtcclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gSGlnaGxpZ2h0IHRoZSBwYXJlbnQgZm9sZGVyIGFuZCBhcHBseSBzdHlsZXMgd2hlbiB0aGUgbGF5b3V0IGlzIHJlYWR5XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XHJcblx0XHRcdHRoaXMuaGlnaGxpZ2h0Rm9sZGVycygpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVN0eWxlcygpO1xyXG5cclxuXHRcdFx0Ly8gQWRkIGEgc2hvcnQgdGltZW91dCB0byBlbnN1cmUgc3R5bGVzIGFyZSBhcHBsaWVkIGFmdGVyIGV2ZXJ5dGhpbmcgaXMgbG9hZGVkXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlU3R5bGVzKCk7XHJcblx0XHRcdFx0dGhpcy5oaWdobGlnaHRGb2xkZXJzKCk7XHJcblx0XHRcdH0sIDUwMCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKFxyXG5cdFx0XHR7fSxcclxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcclxuXHRcdFx0YXdhaXQgdGhpcy5sb2FkRGF0YSgpXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHRcdHRoaXMudXBkYXRlU3R5bGVzKCk7XHJcblx0fVxyXG5cclxuXHRoaWdobGlnaHRGb2xkZXJzKCkge1xyXG5cdFx0Y29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0XHRpZiAoIWFjdGl2ZUZpbGUpIHJldHVybjtcclxuXHJcblx0XHQvLyBSZW1vdmUgYWxsIHByZXZpb3VzIGhpZ2hsaWdodHNcclxuXHRcdGNvbnN0IGFsbEZvbGRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdi1mb2xkZXJcIik7XHJcblx0XHRhbGxGb2xkZXJzLmZvckVhY2goKGZvbGRlcikgPT4ge1xyXG5cdFx0XHRmb2xkZXIuY2xhc3NMaXN0LnJlbW92ZShcclxuXHRcdFx0XHRcImhpZ2hsaWdodGVkLWZvbGRlclwiLFxyXG5cdFx0XHRcdFwiaGlnaGxpZ2h0ZWQtcGFyZW50LWZvbGRlclwiLFxyXG5cdFx0XHRcdFwiaGlnaGxpZ2h0ZWQtaW50ZXJtZWRpYXRlLWZvbGRlclwiXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBIaWdobGlnaHQgdGhlIGZvbGRlciBjb250YWluaW5nIHRoZSBhY3RpdmUgbm90ZVxyXG5cdFx0Y29uc3QgY3VycmVudEZvbGRlciA9IHRoaXMuZ2V0UGFyZW50Rm9sZGVyRWxlbWVudChhY3RpdmVGaWxlLnBhdGgpO1xyXG5cdFx0aWYgKGN1cnJlbnRGb2xkZXIpIHtcclxuXHRcdFx0Y3VycmVudEZvbGRlci5jbGFzc0xpc3QuYWRkKFwiaGlnaGxpZ2h0ZWQtZm9sZGVyXCIpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0UGFyZW50Rm9sZGVyKSB7XHJcblx0XHRcdFx0Ly8gSGlnaGxpZ2h0IHRoZSByb290IGZvbGRlciBpbiB0aGUgcGF0aCB0byB0aGUgYWN0aXZlIG5vdGVcclxuXHRcdFx0XHRjb25zdCByb290Rm9sZGVyID0gdGhpcy5nZXRSb290Rm9sZGVySW5QYXRoKGFjdGl2ZUZpbGUucGF0aCk7XHJcblx0XHRcdFx0aWYgKHJvb3RGb2xkZXIgJiYgcm9vdEZvbGRlciAhPT0gY3VycmVudEZvbGRlcikge1xyXG5cdFx0XHRcdFx0cm9vdEZvbGRlci5jbGFzc0xpc3QuYWRkKFwiaGlnaGxpZ2h0ZWQtcGFyZW50LWZvbGRlclwiKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGNvbnN0IGludGVybWVkaWF0ZUZvbGRlcnMgPSB0aGlzLmdldEludGVybWVkaWF0ZUZvbGRlcnNJblBhdGgoXHJcblx0XHRcdGFjdGl2ZUZpbGUucGF0aFxyXG5cdFx0KTtcclxuXHRcdGZvciAoY29uc3QgaW50ZXJtZWRpYXRlRm9sZGVyIG9mIGludGVybWVkaWF0ZUZvbGRlcnMpIHtcclxuXHRcdFx0aWYgKGludGVybWVkaWF0ZUZvbGRlcikge1xyXG5cdFx0XHRcdGludGVybWVkaWF0ZUZvbGRlci5jbGFzc0xpc3QuYWRkKFxyXG5cdFx0XHRcdFx0XCJoaWdobGlnaHRlZC1pbnRlcm1lZGlhdGUtZm9sZGVyXCJcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRQYXJlbnRGb2xkZXJFbGVtZW50KGZpbGVQYXRoOiBzdHJpbmcpOiBFbGVtZW50IHwgbnVsbCB7XHJcblx0XHRjb25zdCBmb2xkZXJQYXRocyA9IGZpbGVQYXRoLnNwbGl0KFwiL1wiKTtcclxuXHRcdGZvbGRlclBhdGhzLnBvcCgpO1xyXG5cdFx0bGV0IGZvbGRlckVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcblx0XHR3aGlsZSAoZm9sZGVyUGF0aHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjb25zdCBmb2xkZXJOYW1lID0gZm9sZGVyUGF0aHMuam9pbihcIi9cIik7XHJcblx0XHRcdGNvbnN0IHBvc3NpYmxlRm9sZGVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdFx0YFtkYXRhLXBhdGg9XCIke2ZvbGRlck5hbWV9XCJdYFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRpZiAocG9zc2libGVGb2xkZXJFbGVtZW50KSB7XHJcblx0XHRcdFx0Zm9sZGVyRWxlbWVudCA9IHBvc3NpYmxlRm9sZGVyRWxlbWVudC5jbG9zZXN0KFwiLm5hdi1mb2xkZXJcIik7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9sZGVyUGF0aHMucG9wKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGZvbGRlckVsZW1lbnQ7XHJcblx0fVxyXG5cclxuXHRnZXRSb290Rm9sZGVySW5QYXRoKGZpbGVQYXRoOiBzdHJpbmcpOiBFbGVtZW50IHwgbnVsbCB7XHJcblx0XHRjb25zdCBmb2xkZXJQYXRocyA9IGZpbGVQYXRoLnNwbGl0KFwiL1wiKTtcclxuXHRcdGZvbGRlclBhdGhzLnBvcCgpO1xyXG5cclxuXHRcdGlmIChmb2xkZXJQYXRocy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGNvbnN0IHJvb3RGb2xkZXJOYW1lID0gZm9sZGVyUGF0aHNbMF07XHJcblx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0ZG9jdW1lbnRcclxuXHRcdFx0XHRcdC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wYXRoPVwiJHtyb290Rm9sZGVyTmFtZX1cIl1gKVxyXG5cdFx0XHRcdFx0Py5jbG9zZXN0KFwiLm5hdi1mb2xkZXJcIikgfHwgbnVsbFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Z2V0SW50ZXJtZWRpYXRlRm9sZGVyc0luUGF0aChmaWxlUGF0aDogc3RyaW5nKSB7XHJcblx0XHRjb25zdCBpbnRlcm1lZGlhdGVGb2xkZXJzID0gW107XHJcblx0XHRjb25zdCBmb2xkZXJQYXRocyA9IGZpbGVQYXRoLnNwbGl0KFwiL1wiKTtcclxuXHRcdGZvbGRlclBhdGhzLnBvcCgpO1xyXG5cclxuXHRcdHdoaWxlIChmb2xkZXJQYXRocy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdGNvbnN0IGZvbGRlck5hbWUgPSBmb2xkZXJQYXRocy5qb2luKFwiL1wiKTtcclxuXHRcdFx0Y29uc3QgZm9sZGVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdFx0YFtkYXRhLXBhdGg9XCIke2ZvbGRlck5hbWV9XCJdYFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRpZiAoZm9sZGVyRWxlbWVudCkge1xyXG5cdFx0XHRcdGludGVybWVkaWF0ZUZvbGRlcnMucHVzaChmb2xkZXJFbGVtZW50LmNsb3Nlc3QoXCIubmF2LWZvbGRlclwiKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9sZGVyUGF0aHMucG9wKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGludGVybWVkaWF0ZUZvbGRlcnM7XHJcblx0fVxyXG5cclxuXHR1cGRhdGVTdHlsZXMoKSB7XHJcblx0XHRpZiAoIXRoaXMuc3R5bGVFbCkge1xyXG5cdFx0XHR0aGlzLnN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcblx0XHRcdHRoaXMuc3R5bGVFbC5pZCA9IFwiZm9sZGVyLWhpZ2hsaWdodGVyLXN0eWxlc1wiO1xyXG5cdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuc3R5bGVFbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgaW1wb3J0YW50ID0gdGhpcy5zZXR0aW5ncy51c2VJbXBvcnRhbnRUYWdzID8gXCIgIWltcG9ydGFudFwiIDogXCJcIjtcclxuXHJcblx0XHRjb25zdCBzdHlsZUNvbnRlbnQgPSBgXHJcbiAgICAgICAgICAgIC5oaWdobGlnaHRlZC1mb2xkZXIge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0ZWRGb2xkZXJDb2xvclxyXG5cdFx0XHRcdH0ke2ltcG9ydGFudH07XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAke1xyXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5oaWdobGlnaHRlZEZvbGRlckJvcmRlclJhZGl1c1xyXG5cdFx0XHRcdH0ke2ltcG9ydGFudH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmhpZ2hsaWdodGVkLWZvbGRlciA+IC5uYXYtZm9sZGVyLXRpdGxlIHtcclxuICAgICAgICAgICAgICAgICR7XHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmhpZ2hsaWdodEZvbGRlclRpdGxlQ29sb3JcclxuXHRcdFx0XHRcdFx0PyBgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLnNldHRpbmdzLmhpZ2hsaWdodGVkRm9sZGVyVGl0bGVDb2xvcn0ke2ltcG9ydGFudH07YFxyXG5cdFx0XHRcdFx0XHQ6IFwiXCJcclxuXHRcdFx0XHR9XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJHt0aGlzLnNldHRpbmdzLmhpZ2hsaWdodGVkRm9sZGVyVGV4dENvbG9yfSR7aW1wb3J0YW50fTtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6ICR7XHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmhpZ2hsaWdodGVkRm9sZGVyQm9yZGVyUmFkaXVzXHJcblx0XHRcdFx0fSR7aW1wb3J0YW50fTtcclxuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiAke1xyXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5oaWdobGlnaHRlZEZvbGRlckZvbnRXZWlnaHRcclxuXHRcdFx0XHR9JHtpbXBvcnRhbnR9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5oaWdobGlnaHRlZC1wYXJlbnQtZm9sZGVyIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7XHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmhpZ2hsaWdodGVkUGFyZW50Rm9sZGVyQ29sb3JcclxuXHRcdFx0XHR9JHtpbXBvcnRhbnR9O1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogJHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0ZWRQYXJlbnRGb2xkZXJCb3JkZXJSYWRpdXNcclxuXHRcdFx0XHR9JHtpbXBvcnRhbnR9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5oaWdobGlnaHRlZC1wYXJlbnQtZm9sZGVyID4gLm5hdi1mb2xkZXItdGl0bGUge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICR7XHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmhpZ2hsaWdodGVkUGFyZW50Rm9sZGVyVGV4dENvbG9yXHJcblx0XHRcdFx0fSR7aW1wb3J0YW50fTtcclxuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiAke1xyXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5oaWdobGlnaHRlZFBhcmVudEZvbGRlckZvbnRXZWlnaHRcclxuXHRcdFx0XHR9JHtpbXBvcnRhbnR9O1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogJHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0ZWRQYXJlbnRGb2xkZXJCb3JkZXJSYWRpdXNcclxuXHRcdFx0XHR9JHtpbXBvcnRhbnR9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5oaWdobGlnaHRlZC1mb2xkZXIgPiAubmF2LWZvbGRlci10aXRsZTpob3ZlcixcclxuICAgICAgICAgICAgLmhpZ2hsaWdodGVkLWZvbGRlciA+IC5uYXYtZm9sZGVyLXRpdGxlLmlzLWJlaW5nLWRyYWdnZWQsXHJcbiAgICAgICAgICAgIC5oaWdobGlnaHRlZC1wYXJlbnQtZm9sZGVyID4gLm5hdi1mb2xkZXItdGl0bGU6aG92ZXIsXHJcbiAgICAgICAgICAgIC5oaWdobGlnaHRlZC1wYXJlbnQtZm9sZGVyID4gLm5hdi1mb2xkZXItdGl0bGUuaXMtYmVpbmctZHJhZ2dlZCB7XHJcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogJHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0ZWRGb2xkZXJGb250V2VpZ2h0XHJcblx0XHRcdFx0fSR7aW1wb3J0YW50fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuaGlnaGxpZ2h0ZWQtZm9sZGVyIC5uYXYtZmlsZS10aXRsZS5pcy1hY3RpdmUge1xyXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6ICR7XHJcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmhpZ2hsaWdodGVkRm9sZGVyRm9udFdlaWdodFxyXG5cdFx0XHRcdH0ke2ltcG9ydGFudH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmhpZ2hsaWdodGVkLXBhcmVudC1mb2xkZXIgLm5hdi1maWxlLXRpdGxlLmlzLWFjdGl2ZSB7XHJcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogJHtcclxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0ZWRQYXJlbnRGb2xkZXJGb250V2VpZ2h0XHJcblx0XHRcdFx0fSR7aW1wb3J0YW50fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGA7XHJcblx0XHR0aGlzLnN0eWxlRWwudGV4dENvbnRlbnQgPSBzdHlsZUNvbnRlbnQ7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdGlmICh0aGlzLnN0eWxlRWwpIHtcclxuXHRcdFx0dGhpcy5zdHlsZUVsLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgRm9sZGVySGlnaGxpZ2h0ZXJTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBGb2xkZXJIaWdobGlnaHRlcjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRm9sZGVySGlnaGxpZ2h0ZXIpIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJPdmVycmlkZXMgdGhlbWUgc2V0dGluZ3NcIilcclxuXHRcdFx0LnNldERlc2MoXHJcblx0XHRcdFx0XCJFbmFibGUgdGhpcyB0byBvdmVycmlkZSB0aGVtZSBzdHlsZXMgd2l0aCAhaW1wb3J0YW50IHRhZ3MuXCJcclxuXHRcdFx0KVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XHJcblx0XHRcdFx0dG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlSW1wb3J0YW50VGFncylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlSW1wb3J0YW50VGFncyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4udXBkYXRlU3R5bGVzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKFwiQWN0aXZlIGZvbGRlclwiKS5zZXRIZWFkaW5nKCk7XHJcblxyXG5cdFx0Ly8gRnVuY3Rpb24gdG8gY3JlYXRlIGNvbG9yIHNldHRpbmdzIHdpdGggdHJhbnNwYXJlbmN5IHNsaWRlciBhbmQgcmVzZXQgYnV0dG9uXHJcblx0XHRjb25zdCBjcmVhdGVDb2xvclNldHRpbmcgPSAoXHJcblx0XHRcdG5hbWU6IHN0cmluZyxcclxuXHRcdFx0ZGVzYzogc3RyaW5nLFxyXG5cdFx0XHRrZXk6IGtleW9mIEZvbGRlckhpZ2hsaWdodGVyU2V0dGluZ3NcclxuXHRcdCkgPT4ge1xyXG5cdFx0XHRjb25zdCBzYXZlZENvbG9yID0gdGhpcy5wbHVnaW4uc2V0dGluZ3Nba2V5XTtcclxuXHRcdFx0bGV0IGFscGhhVmFsdWUgPSAxOyAvLyBEZWZhdWx0IGFscGhhIHZhbHVlXHJcblxyXG5cdFx0XHQvLyBQYXJzZSBpbml0aWFsIGFscGhhIHZhbHVlIGlmIHJnYmEgaXMgdXNlZFxyXG5cdFx0XHRpZiAodHlwZW9mIHNhdmVkQ29sb3IgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHRjb25zdCBtYXRjaCA9IHNhdmVkQ29sb3IubWF0Y2goXHJcblx0XHRcdFx0XHQvcmdiYVxcKChcXGQrKSwgKFxcZCspLCAoXFxkKyksIChbXFxkLl0rKVxcKS9cclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGlmIChtYXRjaCkge1xyXG5cdFx0XHRcdFx0YWxwaGFWYWx1ZSA9IHBhcnNlRmxvYXQobWF0Y2hbNF0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBtYXRjaCA9IChzYXZlZENvbG9yIGFzIHN0cmluZykubWF0Y2goXHJcblx0XHRcdFx0L3JnYmFcXCgoXFxkKyksIChcXGQrKSwgKFxcZCspLCAoW1xcZC5dKylcXCkvXHJcblx0XHRcdCk7XHJcblx0XHRcdGlmIChtYXRjaCkge1xyXG5cdFx0XHRcdGFscGhhVmFsdWUgPSBwYXJzZUZsb2F0KG1hdGNoWzRdKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUobmFtZSlcclxuXHRcdFx0XHQuc2V0RGVzYyhkZXNjKVxyXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKFwiI2VlZWVlZVwiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUoc2F2ZWRDb2xvci50b1N0cmluZygpKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueSlba2V5XSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvLyBBZGQgdGhlIGNvbG9yIHBpY2tlciBuZXh0IHRvIHRoZSB0ZXh0IGlucHV0XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuY2xhc3NMaXN0LmFkZChcImlucHV0LXdpZHRoLTE1MFwiKTsgLy8gQWRqdXN0IHRoZSB3aWR0aCBvZiB0aGUgdGV4dCBmaWVsZFxyXG5cdFx0XHRcdFx0Y29uc3QgY29sb3JQaWNrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcblx0XHRcdFx0XHRjb2xvclBpY2tlci50eXBlID0gXCJjb2xvclwiO1xyXG5cdFx0XHRcdFx0Ly8gRXh0cmFjdCBvbmx5IHRoZSBjb2xvciB3aXRob3V0IGFscGhhIGZvciB0aGUgY29sb3IgcGlja2VyXHJcblx0XHRcdFx0XHRjb25zdCByZ2JDb2xvciA9IHRoaXMuZXh0cmFjdFJnYkZyb21SZ2JhKFxyXG5cdFx0XHRcdFx0XHRzYXZlZENvbG9yLnRvU3RyaW5nKClcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRjb2xvclBpY2tlci52YWx1ZSA9IHRoaXMucmdiVG9IZXgocmdiQ29sb3IpO1xyXG5cdFx0XHRcdFx0Y29sb3JQaWNrZXIudGl0bGUgPSBcIkNob29zZSBhIGNvbG9yXCI7XHJcblx0XHRcdFx0XHRjb2xvclBpY2tlci5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcdFx0XHRcImlucHV0XCIsXHJcblx0XHRcdFx0XHRcdGFzeW5jIChldmVudDogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0Ly8gQ29udmVydCB0aGUgaGV4IGNvbG9yIHRvIFJHQlxyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHJnYiA9IHRoaXMuaGV4VG9SZ2IodmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdCh0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnkpW2tleV0gPVxyXG5cdFx0XHRcdFx0XHRcdFx0YHJnYmEoJHtyZ2Iucn0sICR7cmdiLmd9LCAke3JnYi5ifSwgJHthbHBoYVZhbHVlfSlgIGFzIHN0cmluZztcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKCh0aGlzLnBsdWdpbi5zZXR0aW5ncyBhcyBhbnkpW2tleV0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0dGV4dC5pbnB1dEVsLnBhcmVudEVsZW1lbnQ/LmFwcGVuZENoaWxkKGNvbG9yUGlja2VyKTtcclxuXHJcblx0XHRcdFx0XHQvLyBBZGQgdGhlIHRyYW5zcGFyZW5jeSBzbGlkZXJcclxuXHRcdFx0XHRcdGNvbnN0IHRyYW5zcGFyZW5jeVNsaWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuXHRcdFx0XHRcdHRyYW5zcGFyZW5jeVNsaWRlci50eXBlID0gXCJyYW5nZVwiO1xyXG5cdFx0XHRcdFx0dHJhbnNwYXJlbmN5U2xpZGVyLm1pbiA9IFwiMFwiO1xyXG5cdFx0XHRcdFx0dHJhbnNwYXJlbmN5U2xpZGVyLm1heCA9IFwiMVwiO1xyXG5cdFx0XHRcdFx0dHJhbnNwYXJlbmN5U2xpZGVyLnN0ZXAgPSBcIjAuMDFcIjtcclxuXHRcdFx0XHRcdHRyYW5zcGFyZW5jeVNsaWRlci52YWx1ZSA9IGFscGhhVmFsdWUudG9TdHJpbmcoKTtcclxuXHRcdFx0XHRcdHRyYW5zcGFyZW5jeVNsaWRlci5jbGFzc0xpc3QuYWRkKFwibWFyZ2luLWxlZnQtMTBcIik7XHJcblx0XHRcdFx0XHR0cmFuc3BhcmVuY3lTbGlkZXIudGl0bGUgPVxyXG5cdFx0XHRcdFx0XHRcIk1vdmUgdGhlIHNsaWRlciB0byBhZGp1c3QgdHJhbnNwYXJlbmN5XCI7XHJcblx0XHRcdFx0XHR0cmFuc3BhcmVuY3lTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcdFx0XCJpbnB1dFwiLFxyXG5cdFx0XHRcdFx0XHRhc3luYyAoZXZlbnQ6IGFueSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGFscGhhVmFsdWUgPSBwYXJzZUZsb2F0KGV2ZW50LnRhcmdldC52YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgcmdiID0gdGhpcy5oZXhUb1JnYihjb2xvclBpY2tlci52YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueSlbXHJcblx0XHRcdFx0XHRcdFx0XHRrZXlcclxuXHRcdFx0XHRcdFx0XHRdID0gYHJnYmEoJHtyZ2Iucn0sICR7cmdiLmd9LCAke3JnYi5ifSwgJHthbHBoYVZhbHVlfSlgO1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoKHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueSlba2V5XSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwucGFyZW50RWxlbWVudD8uYXBwZW5kQ2hpbGQodHJhbnNwYXJlbmN5U2xpZGVyKTtcclxuXHJcblx0XHRcdFx0XHQvLyBBZGQgdGhlIHJlc2V0IGJ1dHRvbiBuZXh0IHRvIHRoZSB0cmFuc3BhcmVuY3kgc2xpZGVyXHJcblx0XHRcdFx0XHRjb25zdCByZXNldEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcblx0XHRcdFx0XHRyZXNldEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiUmVzZXRcIjtcclxuXHRcdFx0XHRcdHJlc2V0QnV0dG9uLnRpdGxlID0gXCJSZXNldCB0byBwcmV2aW91cyBjb2xvclwiO1xyXG5cdFx0XHRcdFx0cmVzZXRCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcmdpbi1sZWZ0LTEwXCIpO1xyXG5cdFx0XHRcdFx0cmVzZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0Ly8gUmVzZXQgdG8gdGhlIGxhc3Qgc2F2ZWQgY29sb3JcclxuXHRcdFx0XHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzIGFzIGFueSlba2V5XSA9IHNhdmVkQ29sb3I7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gVXBkYXRlIHRoZSBjb2xvciBwaWNrZXJcclxuXHRcdFx0XHRcdFx0Y29uc3QgcmdiQ29sb3IgPSB0aGlzLmV4dHJhY3RSZ2JGcm9tUmdiYShcclxuXHRcdFx0XHRcdFx0XHRzYXZlZENvbG9yLnRvU3RyaW5nKClcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0Y29sb3JQaWNrZXIudmFsdWUgPSB0aGlzLnJnYlRvSGV4KHJnYkNvbG9yKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFVwZGF0ZSB0aGUgdHJhbnNwYXJlbmN5IHNsaWRlclxyXG5cdFx0XHRcdFx0XHRjb25zdCBhbHBoYSA9IHRoaXMuZXh0cmFjdEFscGhhRnJvbVJnYmEoXHJcblx0XHRcdFx0XHRcdFx0c2F2ZWRDb2xvci50b1N0cmluZygpXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdHRyYW5zcGFyZW5jeVNsaWRlci52YWx1ZSA9IGFscGhhLnRvU3RyaW5nKCk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgdGhlIHRleHQgaW5wdXRcclxuXHRcdFx0XHRcdFx0dGV4dC5zZXRWYWx1ZShzYXZlZENvbG9yLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwucGFyZW50RWxlbWVudD8uYXBwZW5kQ2hpbGQocmVzZXRCdXR0b24pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBIaWdobGlnaHRlZCBTZWN0aW9uIENvbG9yXHJcblx0XHRjcmVhdGVDb2xvclNldHRpbmcoXHJcblx0XHRcdFwiRm9sZGVyIHNlY3Rpb24gYmFja2dyb3VuZC1jb2xvclwiLFxyXG5cdFx0XHRcIkNob29zZSBhIGJhY2tncm91bmQtY29sb3Igb2YgdGhlIGFjdGl2ZSBmb2xkZXItY29udGFpbmVyLlwiLFxyXG5cdFx0XHRcImhpZ2hsaWdodGVkRm9sZGVyQ29sb3JcIlxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBIaWdobGlnaHQgRm9sZGVyIEJhY2tncm91bmQtQ29sb3JcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIkZvbGRlciBiYWNrZ3JvdW5kIGNvbG9yXCIpXHJcblx0XHRcdC5zZXREZXNjKFwiRW5hYmxlIGJhY2tncm91bmQtY29sb3Igb2YgdGhlIGZvbGRlciB0aXRsZS5cIilcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG5cdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZ2hsaWdodEZvbGRlclRpdGxlQ29sb3IpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZ2hsaWdodEZvbGRlclRpdGxlQ29sb3IgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0aWYgKCF2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZ2hsaWdodGVkRm9sZGVyVGl0bGVDb2xvciA9XHJcblx0XHRcdFx0XHRcdFx0XHRcIiNmZmZmZmYwMFwiOyAvLyBSZXNldCBiYWNrZ3JvdW5kIGNvbG9yXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi51cGRhdGVTdHlsZXMoKTsgLy8gVXBkYXRlIHN0eWxlcyBpbW1lZGlhdGVseVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHQvLyBIaWdobGlnaHRlZCBGb2xkZXIgVGl0bGUgQ29sb3JcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWdobGlnaHRGb2xkZXJUaXRsZUNvbG9yKSB7XHJcblx0XHRcdGNyZWF0ZUNvbG9yU2V0dGluZyhcclxuXHRcdFx0XHRcIkZvbGRlciBiYWNrZ3JvdW5kLWNvbG9yXCIsXHJcblx0XHRcdFx0XCJDaG9vc2UgYSBjb2xvciBmb3IgdGhlIGhpZ2hsaWdodGVkIGZvbGRlciB0aXRsZS5cIixcclxuXHRcdFx0XHRcImhpZ2hsaWdodGVkRm9sZGVyVGl0bGVDb2xvclwiXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSGlnaGxpZ2h0ZWQgRm9sZGVyIFRleHQgQ29sb3JcclxuXHRcdGNyZWF0ZUNvbG9yU2V0dGluZyhcclxuXHRcdFx0XCJGb2xkZXIgdGV4dCBjb2xvclwiLFxyXG5cdFx0XHRcIkNob29zZSBhIGNvbG9yIGZvciB0aGUgaGlnaGxpZ2h0ZWQgZm9sZGVyIHRleHQuXCIsXHJcblx0XHRcdFwiaGlnaGxpZ2h0ZWRGb2xkZXJUZXh0Q29sb3JcIlxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBIaWdobGlnaHRlZCBGb2xkZXIgRm9udCBXZWlnaHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIkhpZ2hsaWdodGVkIGZvbGRlciBmb250IHdlaWdodFwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIlNldCB0aGUgZm9udCB3ZWlnaHQgb2YgdGhlIGhpZ2hsaWdodGVkIGZvbGRlciB0aXRsZXMuXCIpXHJcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+XHJcblx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCIyMDBcIiwgXCJUaGluXCIpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiNDAwXCIsIFwiTm9ybWFsXCIpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiNzAwXCIsIFwiQm9sZFwiKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKFxyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWdobGlnaHRlZEZvbGRlckZvbnRXZWlnaHQgfHxcclxuXHRcdFx0XHRcdFx0XHRcIjcwMFwiXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZ2hsaWdodGVkRm9sZGVyRm9udFdlaWdodCA9XHJcblx0XHRcdFx0XHRcdFx0dmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi51cGRhdGVTdHlsZXMoKTsgLy8gVXBkYXRlIHN0eWxlcyBpbW1lZGlhdGVseVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHQvLyBIaWdobGlnaHRlZCBGb2xkZXIgQm9yZGVyIFJhZGl1c1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiRm9sZGVyIGJvcmRlciByYWRpdXNcIilcclxuXHRcdFx0LnNldERlc2MoXCJTZXQgdGhlIGJvcmRlciByYWRpdXMgb2YgdGhlIGhpZ2hsaWdodGVkIGZvbGRlci5cIilcclxuXHRcdFx0LmFkZFNsaWRlcihcclxuXHRcdFx0XHQoc2xpZGVyKSA9PlxyXG5cdFx0XHRcdFx0c2xpZGVyXHJcblx0XHRcdFx0XHRcdC5zZXRMaW1pdHMoMCwgNTAsIDEpIC8vIE1pbiwgTWF4LCBTdGVwXHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZShcclxuXHRcdFx0XHRcdFx0XHRwYXJzZUludChcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5oaWdobGlnaHRlZEZvbGRlckJvcmRlclJhZGl1c1xyXG5cdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgcmFkaXVzV2l0aFB4ID0gYCR7dmFsdWV9cHhgO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZ2hsaWdodGVkRm9sZGVyQm9yZGVyUmFkaXVzID1cclxuXHRcdFx0XHRcdFx0XHRcdHJhZGl1c1dpdGhQeDtcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi51cGRhdGVTdHlsZXMoKTsgLy8gVXBkYXRlIHN0eWxlcyBpbW1lZGlhdGVseVxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKSAvLyBBZGRzIGEgdG9vbHRpcCBzaG93aW5nIHRoZSBjdXJyZW50IHZhbHVlXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJSb290IGZvbGRlclwiKS5zZXRIZWFkaW5nKCk7XHJcblxyXG5cdFx0Ly8gTmV3IHNldHRpbmcgZm9yIGhpZ2hsaWdodGluZyByb290IGZvbGRlclxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiSGlnaGxpZ2h0IHJvb3QgZm9sZGVyXCIpXHJcblx0XHRcdC5zZXREZXNjKFxyXG5cdFx0XHRcdFwiRW5hYmxlIGJhY2tncm91bmQtY29sb3Igb2YgdGhlIHJvb3QgZm9sZGVyIHNlZ21lbnQgaW4gdGhlIHBhdGggdG8gdGhlIGFjdGl2ZSBub3RlLlwiXHJcblx0XHRcdClcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG5cdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZ2hsaWdodFBhcmVudEZvbGRlcilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlnaGxpZ2h0UGFyZW50Rm9sZGVyID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0Ly8gUm9vdCBGb2xkZXIgQ29sb3JcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWdobGlnaHRQYXJlbnRGb2xkZXIpIHtcclxuXHRcdFx0Y3JlYXRlQ29sb3JTZXR0aW5nKFxyXG5cdFx0XHRcdFwiUm9vdCBmb2xkZXIgc2VjdGlvbiBiYWNrZ3JvdW5kLWNvbG9yXCIsXHJcblx0XHRcdFx0XCJDaG9vc2UgYSBiYWNrZ3JvdW5kLWNvbG9yIG9mIHRoZSByb290IGZvbGRlciBzZWdtZW50LlwiLFxyXG5cdFx0XHRcdFwiaGlnaGxpZ2h0ZWRQYXJlbnRGb2xkZXJDb2xvclwiXHJcblx0XHRcdCk7XHJcblx0XHRcdGNyZWF0ZUNvbG9yU2V0dGluZyhcclxuXHRcdFx0XHRcIlJvb3QgZm9sZGVyIHRleHQgY29sb3JcIixcclxuXHRcdFx0XHRcIkNob29zZSBhIGNvbG9yIGZvciB0aGUgaGlnaGxpZ2h0ZWQgcm9vdCBmb2xkZXIgdGV4dC5cIixcclxuXHRcdFx0XHRcImhpZ2hsaWdodGVkUGFyZW50Rm9sZGVyVGV4dENvbG9yXCJcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIEhpZ2hsaWdodGVkIFBhcmVudCBGb2xkZXIgRm9udCBXZWlnaHRcclxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUoXCJIaWdobGlnaHRlZCByb290IGZvbGRlciBmb250IHdlaWdodFwiKVxyXG5cdFx0XHRcdC5zZXREZXNjKFxyXG5cdFx0XHRcdFx0XCJTZXQgdGhlIGZvbnQgd2VpZ2h0IG9mIHRoZSBoaWdobGlnaHRlZCBwYXJlbnQgZm9sZGVyIHRpdGxlcy5cIlxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxyXG5cdFx0XHRcdFx0ZHJvcGRvd25cclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcIjIwMFwiLCBcIlRoaW5cIilcclxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcIjQwMFwiLCBcIk5vcm1hbFwiKVxyXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwiNzAwXCIsIFwiQm9sZFwiKVxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3NcclxuXHRcdFx0XHRcdFx0XHRcdC5oaWdobGlnaHRlZFBhcmVudEZvbGRlckZvbnRXZWlnaHQgfHwgXCI3MDBcIlxyXG5cdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWdobGlnaHRlZFBhcmVudEZvbGRlckZvbnRXZWlnaHQgPVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4udXBkYXRlU3R5bGVzKCk7IC8vIFVwZGF0ZSBzdHlsZXMgaW1tZWRpYXRlbHlcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gSGlnaGxpZ2h0ZWQgUm9vdCBGb2xkZXIgQm9yZGVyIFJhZGl1c1xyXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZShcIlJvb3QgZm9sZGVyIGJvcmRlciByYWRpdXNcIilcclxuXHRcdFx0XHQuc2V0RGVzYyhcclxuXHRcdFx0XHRcdFwiU2V0IHRoZSBib3JkZXIgcmFkaXVzIG9mIHRoZSBoaWdobGlnaHRlZCByb290IGZvbGRlci5cIlxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHQuYWRkU2xpZGVyKChzbGlkZXIpID0+XHJcblx0XHRcdFx0XHRzbGlkZXJcclxuXHRcdFx0XHRcdFx0LnNldExpbWl0cygwLCA1MCwgMSkgLy8gTWluLCBNYXgsIFN0ZXBcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKFxyXG5cdFx0XHRcdFx0XHRcdHBhcnNlSW50KFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3NcclxuXHRcdFx0XHRcdFx0XHRcdFx0LmhpZ2hsaWdodGVkUGFyZW50Rm9sZGVyQm9yZGVyUmFkaXVzXHJcblx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCByYWRpdXNXaXRoUHggPSBgJHt2YWx1ZX1weGA7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlnaGxpZ2h0ZWRQYXJlbnRGb2xkZXJCb3JkZXJSYWRpdXMgPVxyXG5cdFx0XHRcdFx0XHRcdFx0cmFkaXVzV2l0aFB4O1xyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnVwZGF0ZVN0eWxlcygpOyAvLyBVcGRhdGUgc3R5bGVzIGltbWVkaWF0ZWx5XHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXHJcblx0XHRcdFx0KTsgLy8gQWRkcyBhIHRvb2x0aXAgc2hvd2luZyB0aGUgY3VycmVudCB2YWx1ZVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4IGNvbG9yIHRvIFJHQlxyXG5cdGhleFRvUmdiKGhleDogc3RyaW5nKSB7XHJcblx0XHRjb25zdCBiaWdpbnQgPSBwYXJzZUludChoZXguc2xpY2UoMSksIDE2KTtcclxuXHRcdGNvbnN0IHIgPSAoYmlnaW50ID4+IDE2KSAmIDI1NTtcclxuXHRcdGNvbnN0IGcgPSAoYmlnaW50ID4+IDgpICYgMjU1O1xyXG5cdFx0Y29uc3QgYiA9IGJpZ2ludCAmIDI1NTtcclxuXHRcdHJldHVybiB7IHIsIGcsIGIgfTtcclxuXHR9XHJcblxyXG5cdC8vIEhlbHBlciBmdW5jdGlvbiB0byBleHRyYWN0IFJHQiB2YWx1ZXMgZnJvbSBSR0JBIHN0cmluZ1xyXG5cdGV4dHJhY3RSZ2JGcm9tUmdiYShyZ2JhOiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IG1hdGNoID0gcmdiYS5tYXRjaCgvcmdiYT9cXCgoXFxkKyksXFxzKihcXGQrKSxcXHMqKFxcZCspLyk7XHJcblx0XHRpZiAobWF0Y2gpIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRyOiBwYXJzZUludChtYXRjaFsxXSksXHJcblx0XHRcdFx0ZzogcGFyc2VJbnQobWF0Y2hbMl0pLFxyXG5cdFx0XHRcdGI6IHBhcnNlSW50KG1hdGNoWzNdKSxcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcclxuXHR9XHJcblxyXG5cdC8vIEhlbHBlciBmdW5jdGlvbiB0byBleHRyYWN0IGFscGhhIHZhbHVlIGZyb20gUkdCQSBzdHJpbmdcclxuXHRleHRyYWN0QWxwaGFGcm9tUmdiYShyZ2JhOiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IG1hdGNoID0gcmdiYS5tYXRjaCgvcmdiYT9cXCguKj8sXFxzKihbXFxkLl0rKVxcKS8pO1xyXG5cdFx0cmV0dXJuIG1hdGNoID8gcGFyc2VGbG9hdChtYXRjaFsxXSkgOiAxO1xyXG5cdH1cclxuXHJcblx0Ly8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgUkdCIHRvIEhFWFxyXG5cdHJnYlRvSGV4KHJnYjogeyByOiBudW1iZXI7IGc6IG51bWJlcjsgYjogbnVtYmVyIH0pIHtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdFwiI1wiICtcclxuXHRcdFx0KCgxIDw8IDI0KSArIChyZ2IuciA8PCAxNikgKyAocmdiLmcgPDwgOCkgKyByZ2IuYilcclxuXHRcdFx0XHQudG9TdHJpbmcoMTYpXHJcblx0XHRcdFx0LnNsaWNlKDEpXHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBQXVEO0FBaUJ2RCxJQUFNLG1CQUE4QztBQUFBLEVBQ25ELGtCQUFrQjtBQUFBLEVBQ2xCLHdCQUF3QjtBQUFBLEVBQ3hCLDJCQUEyQjtBQUFBLEVBQzNCLDZCQUE2QjtBQUFBLEVBQzdCLDRCQUE0QjtBQUFBLEVBQzVCLHVCQUF1QjtBQUFBLEVBQ3ZCLDhCQUE4QjtBQUFBLEVBQzlCLGtDQUFrQztBQUFBLEVBQ2xDLCtCQUErQjtBQUFBLEVBQy9CLHFDQUFxQztBQUFBLEVBQ3JDLDZCQUE2QjtBQUFBLEVBQzdCLG1DQUFtQztBQUNwQztBQUVBLElBQXFCLG9CQUFyQixjQUErQyx1QkFBTztBQUFBLEVBQXREO0FBQUE7QUFFQyxTQUFRLFVBQW1DO0FBQUE7QUFBQSxFQUUzQyxNQUFNLFNBQVM7QUFDZCxVQUFNLEtBQUssYUFBYTtBQUV4QixTQUFLLGNBQWMsSUFBSSw0QkFBNEIsS0FBSyxLQUFLLElBQUksQ0FBQztBQUdsRSxTQUFLLGFBQWE7QUFHbEIsU0FBSztBQUFBLE1BQ0osS0FBSyxJQUFJLFVBQVUsR0FBRyxzQkFBc0IsTUFBTTtBQUNqRCxhQUFLLGlCQUFpQjtBQUFBLE1BQ3ZCLENBQUM7QUFBQSxJQUNGO0FBR0EsU0FBSyxJQUFJLFVBQVUsY0FBYyxNQUFNO0FBQ3RDLFdBQUssaUJBQWlCO0FBQ3RCLFdBQUssYUFBYTtBQUdsQixpQkFBVyxNQUFNO0FBQ2hCLGFBQUssYUFBYTtBQUNsQixhQUFL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
