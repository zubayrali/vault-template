/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var pt=Object.create;var G=Object.defineProperty;var gt=Object.getOwnPropertyDescriptor;var ft=Object.getOwnPropertyNames;var wt=Object.getPrototypeOf,yt=Object.prototype.hasOwnProperty;var rt=h=>G(h,"__esModule",{value:!0});var Mt=(h,t)=>()=>(t||h((t={exports:{}}).exports,t),t.exports),vt=(h,t)=>{rt(h);for(var e in t)G(h,e,{get:t[e],enumerable:!0})},St=(h,t,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ft(t))!yt.call(h,o)&&o!=="default"&&G(h,o,{get:()=>t[o],enumerable:!(e=gt(t,o))||e.enumerable});return h},U=h=>St(rt(G(h!=null?pt(wt(h)):{},"default",h&&h.__esModule&&"default"in h?{get:()=>h.default,enumerable:!0}:{value:h,enumerable:!0})),h);var D=(h,t,e)=>new Promise((o,r)=>{var c=M=>{try{m(e.next(M))}catch(w){r(w)}},v=M=>{try{m(e.throw(M))}catch(w){r(w)}},m=M=>M.done?o(M.value):Promise.resolve(M.value).then(c,v);m((e=e.apply(h,t)).next())});var dt=Mt((K,X)=>{(function(h,t){typeof K=="object"&&typeof X!="undefined"?X.exports=t():typeof define=="function"&&define.amd?define(t):(h=typeof globalThis!="undefined"?globalThis:h||self).dayjs=t()})(K,function(){"use strict";var h=1e3,t=6e4,e=36e5,o="millisecond",r="second",c="minute",v="hour",m="day",M="week",w="month",L="quarter",F="year",T="date",y="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ht={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(d){var i=["th","st","nd","rd"],s=d%100;return"["+d+(i[(s-20)%10]||i[s]||i[0])+"]"}},J=function(d,i,s){var a=String(d);return!a||a.length>=i?d:""+Array(i+1-a.length).join(s)+d},mt={s:J,z:function(d){var i=-d.utcOffset(),s=Math.abs(i),a=Math.floor(s/60),n=s%60;return(i<=0?"+":"-")+J(a,2,"0")+":"+J(n,2,"0")},m:function d(i,s){if(i.date()<s.date())return-d(s,i);var a=12*(s.year()-i.year())+(s.month()-i.month()),n=i.clone().add(a,w),l=s-n<0,u=i.clone().add(a+(l?-1:1),w);return+(-(a+(s-n)/(l?n-u:u-n))||0)},a:function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},p:function(d){return{M:w,y:F,w:M,d:m,D:T,h:v,m:c,s:r,ms:o,Q:L}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(d){return d===void 0}},j="en",B={};B[j]=ht;var at="$isDayjsObject",Q=function(d){return d instanceof V||!(!d||!d[at])},_=function d(i,s,a){var n;if(!i)return j;if(typeof i=="string"){var l=i.toLowerCase();B[l]&&(n=l),s&&(B[l]=s,n=l);var u=i.split("-");if(!n&&u.length>1)return d(u[0])}else{var g=i.name;B[g]=i,n=g}return!a&&n&&(j=n),n||!a&&j},E=function(d,i){if(Q(d))return d.clone();var s=typeof i=="object"?i:{};return s.date=d,s.args=arguments,new V(s)},p=mt;p.l=_,p.i=Q,p.w=function(d,i){return E(d,{locale:i.$L,utc:i.$u,x:i.$x,$offset:i.$offset})};var V=function(){function d(s){this.$L=_(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[at]=!0}var i=d.prototype;return i.parse=function(s){this.$d=function(a){var n=a.date,l=a.utc;if(n===null)return new Date(NaN);if(p.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var u=n.match(C);if(u){var g=u[2]-1||0,S=(u[7]||"0").substring(0,3);return l?new Date(Date.UTC(u[1],g,u[3]||1,u[4]||0,u[5]||0,u[6]||0,S)):new Date(u[1],g,u[3]||1,u[4]||0,u[5]||0,u[6]||0,S)}}return new Date(n)}(s),this.init()},i.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},i.$utils=function(){return p},i.isValid=function(){return this.$d.toString()!==y},i.isSame=function(s,a){var n=E(s);return this.startOf(a)<=n&&n<=this.endOf(a)},i.isAfter=function(s,a){return E(s)<this.startOf(a)},i.isBefore=function(s,a){return this.endOf(a)<E(s)},i.$g=function(s,a,n){return p.u(s)?this[a]:this.set(n,s)},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this.$d.getTime()},i.startOf=function(s,a){var n=this,l=!!p.u(a)||a,u=p.p(s),g=function(I,x){var Y=p.w(n.$u?Date.UTC(n.$y,x,I):new Date(n.$y,x,I),n);return l?Y:Y.endOf(m)},S=function(I,x){return p.w(n.toDate()[I].apply(n.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(x)),n)},$=this.$W,k=this.$M,b=this.$D,P="set"+(this.$u?"UTC":"");switch(u){case F:return l?g(1,0):g(31,11);case w:return l?g(1,k):g(0,k+1);case M:var O=this.$locale().weekStart||0,N=($<O?$+7:$)-O;return g(l?b-N:b+(6-N),k);case m:case T:return S(P+"Hours",0);case v:return S(P+"Minutes",1);case c:return S(P+"Seconds",2);case r:return S(P+"Milliseconds",3);default:return this.clone()}},i.endOf=function(s){return this.startOf(s,!1)},i.$set=function(s,a){var n,l=p.p(s),u="set"+(this.$u?"UTC":""),g=(n={},n[m]=u+"Date",n[T]=u+"Date",n[w]=u+"Month",n[F]=u+"FullYear",n[v]=u+"Hours",n[c]=u+"Minutes",n[r]=u+"Seconds",n[o]=u+"Milliseconds",n)[l],S=l===m?this.$D+(a-this.$W):a;if(l===w||l===F){var $=this.clone().set(T,1);$.$d[g](S),$.init(),this.$d=$.set(T,Math.min(this.$D,$.daysInMonth())).$d}else g&&this.$d[g](S);return this.init(),this},i.set=function(s,a){return this.clone().$set(s,a)},i.get=function(s){return this[p.p(s)]()},i.add=function(s,a){var n,l=this;s=Number(s);var u=p.p(a),g=function(k){var b=E(l);return p.w(b.date(b.date()+Math.round(k*s)),l)};if(u===w)return this.set(w,this.$M+s);if(u===F)return this.set(F,this.$y+s);if(u===m)return g(1);if(u===M)return g(7);var S=(n={},n[c]=t,n[v]=e,n[r]=h,n)[u]||1,$=this.$d.getTime()+s*S;return p.w($,this)},i.subtract=function(s,a){return this.add(-1*s,a)},i.format=function(s){var a=this,n=this.$locale();if(!this.isValid())return n.invalidDate||y;var l=s||"YYYY-MM-DDTHH:mm:ssZ",u=p.z(this),g=this.$H,S=this.$m,$=this.$M,k=n.weekdays,b=n.months,P=n.meridiem,O=function(x,Y,W,z){return x&&(x[Y]||x(a,l))||W[Y].slice(0,z)},N=function(x){return p.s(g%12||12,x,"0")},I=P||function(x,Y,W){var z=x<12?"AM":"PM";return W?z.toLowerCase():z};return l.replace(q,function(x,Y){return Y||function(W){switch(W){case"YY":return String(a.$y).slice(-2);case"YYYY":return p.s(a.$y,4,"0");case"M":return $+1;case"MM":return p.s($+1,2,"0");case"MMM":return O(n.monthsShort,$,b,3);case"MMMM":return O(b,$);case"D":return a.$D;case"DD":return p.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return O(n.weekdaysMin,a.$W,k,2);case"ddd":return O(n.weekdaysShort,a.$W,k,3);case"dddd":return k[a.$W];case"H":return String(g);case"HH":return p.s(g,2,"0");case"h":return N(1);case"hh":return N(2);case"a":return I(g,S,!0);case"A":return I(g,S,!1);case"m":return String(S);case"mm":return p.s(S,2,"0");case"s":return String(a.$s);case"ss":return p.s(a.$s,2,"0");case"SSS":return p.s(a.$ms,3,"0");case"Z":return u}return null}(x)||u.replace(":","")})},i.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},i.diff=function(s,a,n){var l,u=this,g=p.p(a),S=E(s),$=(S.utcOffset()-this.utcOffset())*t,k=this-S,b=function(){return p.m(u,S)};switch(g){case F:l=b()/12;break;case w:l=b();break;case L:l=b()/3;break;case M:l=(k-$)/6048e5;break;case m:l=(k-$)/864e5;break;case v:l=k/e;break;case c:l=k/t;break;case r:l=k/h;break;default:l=k}return n?l:p.a(l)},i.daysInMonth=function(){return this.endOf(w).$D},i.$locale=function(){return B[this.$L]},i.locale=function(s,a){if(!s)return this.$L;var n=this.clone(),l=_(s,a,!0);return l&&(n.$L=l),n},i.clone=function(){return p.w(this.$d,this)},i.toDate=function(){return new Date(this.valueOf())},i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toISOString=function(){return this.$d.toISOString()},i.toString=function(){return this.$d.toUTCString()},d}(),ot=V.prototype;return E.prototype=ot,[["$ms",o],["$s",r],["$m",c],["$H",v],["$W",m],["$M",w],["$y",F],["$D",T]].forEach(function(d){ot[d[1]]=function(i){return this.$g(i,d[0],d[1])}}),E.extend=function(d,i){return d.$i||(d(i,V,E),d.$i=!0),E},E.locale=_,E.isDayjs=Q,E.unix=function(d){return E(1e3*d)},E.en=B[j],E.Ls=B,E.p={},E})});vt(exports,{default:()=>it});var nt=U(dt()),f=U(require("obsidian"));var R=U(require("obsidian"));var tt=["flac","m4a","mp3","ogg","wav"],Ft=["gif","jpg","jpeg","png","webp"],Ct=["avi","m4v","mkv","mov","mp4","webm"],lt=[...tt,...Ft,...Ct];var A=class extends R.MarkdownRenderChild{constructor(t,e){super(t);this.text=e}onload(){let t=this.text.split(`
`).filter(r=>r.length>0),e=t.map(A.createMarkdownImage),o=this.containerEl.createDiv();t.every(r=>!tt.some(c=>r.endsWith(c)))&&o.addClass("image-grid"),R.MarkdownRenderer.renderMarkdown(e.join(""),o,null,this),this.containerEl.replaceWith(o)}static createMarkdownImage(t){return`![[${t.substring(1)}]]`}},et=class extends R.Modal{constructor(t,e){super(t);this.imgSrc=e}onOpen(){let{contentEl:t}=this,e=t.createEl("img",{attr:{src:this.imgSrc,style:"max-width: 100%; max-height: 100%; object-fit: contain; object-position: center;"}});e.onload=()=>{let o=e.naturalWidth/e.naturalHeight,r=window.innerWidth*.9,c=window.innerHeight*.8,v,m;o>1?(v=Math.min(r,e.naturalWidth),m=v/o):(m=Math.min(c,e.naturalHeight),v=m*o),Object.assign(this.modalEl.style,{width:`${v}px`,height:`${m}px`,boxShadow:"none"})},this.modalEl.addEventListener("click",()=>this.close())}onClose(){this.contentEl.empty()}};var ut=U(require("obsidian")),st=class extends ut.MarkdownRenderChild{constructor(t,e){super(t);this.speakersMap=new Map;this.userSpeakers=["\u0623\u0646\u0627","\u0986\u09AE\u09BF","\u6211","ik","me","min\xE4","m\xE4","moi","ich","\u03B5\u03B3\u03CE","\u05D0\u05E0\u05D9","\u092E\u0948\u0902","aku","saya","\u79C1","\u308F\u305F\u3057","\uB098","\uC800","ego","saya","aku","jeg","\u0645\u0646","ja","eu","\u0A2E\u0A48\u0A02","\u044F","yo","jag","ako","\u0E09\u0E31\u0E19","\u0E1C\u0E21","\u0645\u06CC\u06BA","t\xF4i","m\xECnh"];this.allSpeakers=new Set;this.spokenYet=new Set;this.lastSpeaker=null;this.lastLineElement=null;this.text=e}onload(){this.speakersMap.clear(),this.allSpeakers.clear();let t=this.text.split(`
.`);t=t.map((o,r)=>r===0?o:"."+o);let e=this.containerEl.createEl("ul");e.addClass("yesterday-dialog"),t.forEach(o=>{let{speaker:r}=this.dissectDialogLine(o);r&&this.allSpeakers.add(r.toLowerCase())}),this.determineSpeakerRoles(),t.forEach(o=>{let r=this.createDialogLine(o);r&&e.appendChild(r)}),this.containerEl.replaceWith(e)}determineSpeakerRoles(){let t=Array.from(this.allSpeakers);t.some(e=>this.userSpeakers.includes(e))?t.forEach(e=>{this.speakersMap.set(e,this.userSpeakers.includes(e)?"my-dialog":"their-dialog")}):t.forEach((e,o)=>{let r=o===1?"my-dialog":"their-dialog";this.speakersMap.set(e,r)})}createDialogLine(t){let{speaker:e,comment:o,statement:r}=this.dissectDialogLine(t);if(!e)return null;let c=this.speakersMap.get(e.toLowerCase())||"their-dialog",v=!this.spokenYet.has(e.toLowerCase()),m=o!=="",M=document.createElement("li"),w=createEl("span");w.addClass("dialog-speaker");let L=createEl("p");if(L.addClass("dialog-statement"),M.classList.add(c),v||m){let F=createEl("p");if(F.addClass("dialog-meta"),M.appendChild(F),v&&(w.textContent=`${e}`,F.appendChild(w)),m){let T=createEl("span");T.addClass("dialog-comment"),T.textContent=`${o}`,F.appendChild(T)}}return this.isOnlyEmoji(r)&&M.classList.add("emoji-only"),L.innerHTML=r.replace(/\n/g,"<br>"),M.appendChild(L),this.spokenYet.add(e.toLowerCase()),this.lastSpeaker&&this.lastSpeaker!==e&&this.lastLineElement&&this.lastLineElement.addClass("end-speech"),this.lastSpeaker=e,this.lastLineElement=M,M}dissectDialogLine(t){let e=/^\.([^:(]+)(?:\s?\((.*?)\))?:\s?((?:.|\n)*)/,o=t.match(e);if(o){let[r,c,v="",m]=o;return{speaker:c.trim(),comment:v.trim(),statement:m.trim()}}return{speaker:"",comment:"",statement:""}}isOnlyEmoji(t){return/^[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F700}-\u{1F77F}\u{1F780}-\u{1F7FF}\u{1F800}-\u{1F8FF}\u{1F900}-\u{1F9FF}\u{1FA00}-\u{1FA6F}\u{1FA70}-\u{1FAFF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}\u{1F1E6}-\u{1F1FF}\u{1F191}-\u{1F251}\u{1F004}\u{1F0CF}\u{1F170}-\u{1F171}\u{1F17E}-\u{1F17F}\u{1F18E}\u{3030}\u{2B50}\u{2B55}\u{2934}-\u{2935}\u{2B05}-\u{2B07}\u{2B1B}-\u{2B1C}\u{3297}\u{3299}\u{1F004}\u{1F0CF}\u{1F18E}\u{3030}\u{2B50}\u{2B55}\u{2934}-\u{2935}\u{2B05}-\u{2B07}\u{2B1B}-\u{2B1C}\u{3297}\u{3299}\u{1F3FB}-\u{1F3FF}]+$/gu.test(t)}};var Z={colorMarkdownFiles:!0,hideMediaFiles:!1,showTodoCount:!1,showMediaGrid:!0,maximizeMedia:!0,datePropFormat:"YYYY-MM-DD HH:mm:ss Z",startOfNextDay:5,customRootFolder:""},H=0,it=class extends f.Plugin{constructor(){super(...arguments);this.inDream=!1;this.dreamContent="";this.dreamParagraphsToRemove=[];this.inTodo=!1;this.todoContent="";this.todoParagraphsToRemove=[];this.todoEventListenersAdded=!1}onload(){return D(this,null,function*(){yield this.loadSettings(),this.addRibbonIcons(),this.addCommands(),this.handleImageClicks(),this.addSettingTab(new ct(this.app,this)),this.registerMarkdownPostProcessors(),this.setStatusBar()})}addRibbonIcons(){let t=this.addRibbonIcon("create-new","Create entry",o=>{this.createEntry()}),e=this.addRibbonIcon("checkmark","Toggle draft/complete",o=>{this.toggleTodo()})}addCommands(){this.addCommand({id:"create-entry",name:"Create entry",callback:()=>{this.createEntry()}}),this.addCommand({id:"toggle-to-do",name:"Toggle draft/complete",callback:()=>{this.toggleTodo()}})}handleImageClicks(){f.Platform.isMobile||this.registerDomEvent(document,"click",t=>{let e=t.target;if(e.tagName==="IMG"&&e.closest(".media-embed")&&this.settings.maximizeMedia){let o=e.src;new et(this.app,o).open()}})}registerMarkdownPostProcessors(){this.registerMarkdownPostProcessor((t,e)=>{Array.from(t.querySelectorAll("p, hr")).forEach(r=>{let c;r.tagName==="HR"?c="---":r.tagName==="P"&&(c=r.innerText.trim());let v=c[0]==="/"&&lt.some(y=>c.endsWith(y)),m=c.startsWith("///"),M=c.startsWith(".")&&c.contains(":"),w=c.startsWith("\xA7\xA7\xA7"),L=c.endsWith("\xA7\xA7\xA7"),F=c.startsWith("++"),T=c.endsWith("++");if(v&&e.addChild(new A(r,c)),m&&r.parentElement.addClass("yesterday-comment"),M&&e.addChild(new st(r,c)),w&&!this.inDream&&(this.inDream=!0,this.dreamContent=`> [!yesterday-dream] Dream
`),this.inDream){let y=c.replace(/^§§§|§§§$/g,"").trim();this.dreamContent+=`> ${y}
`,L||(this.dreamContent+=`> 
`,this.dreamParagraphsToRemove.push(r))}if(L){this.inDream=!1,this.dreamParagraphsToRemove.forEach(C=>{C.remove()});let y=r.createDiv();f.MarkdownRenderer.renderMarkdown(this.dreamContent,y,null,this),r.replaceWith(y)}F&&r.parentElement.addClass("yesterday-todo")})})}updateTodoCount(){H=0,this.app.vault.getMarkdownFiles().forEach(e=>{e.basename.toLowerCase().includes("todo")&&H++}),this.statusBarTodoCount&&this.updateStatusBarTodoCount()}updateStatusBarTodoCount(){if(!this.statusBarTodoCount)return;let t;H===1?t=" open entry":t=" open entries",this.statusBarTodoCount.setText(H.toString()+t)}setStatusBar(){this.settings.showTodoCount?this.statusBarTodoCount||(this.statusBarTodoCount=this.addStatusBarItem(),this.updateTodoCount(),this.registerFileOperations()):this.statusBarTodoCount&&(this.statusBarTodoCount.remove(),this.statusBarTodoCount=null)}registerFileOperations(){this.todoEventListenersAdded||(this.registerEvent(this.app.vault.on("create",t=>{t instanceof f.TFile&&t.extension==="md"&&t.basename.toLowerCase().includes("todo")&&(H++,this.updateStatusBarTodoCount())})),this.registerEvent(this.app.vault.on("rename",(t,e)=>{if(t instanceof f.TFile&&t.extension==="md"){let o=e.toLowerCase().includes("todo"),r=t.basename.toLowerCase().includes("todo");o&&!r?(H--,this.updateStatusBarTodoCount()):!o&&r&&(H++,this.updateStatusBarTodoCount())}})),this.registerEvent(this.app.vault.on("delete",t=>{t instanceof f.TFile&&t.extension==="md"&&t.basename.toLowerCase().includes("todo")&&(H--,this.updateStatusBarTodoCount())})),this.todoEventListenersAdded=!0)}onunload(){}createEntry(){return D(this,null,function*(){let t=this.getPath(this.settings.startOfNextDay),e=(0,nt.default)(),o=t+"/"+e.format("YYYY-MM-DD - HH-mm-ss")+".md";new f.Notice("Creating "+o);let r=yield Et(e.format(this.settings.datePropFormat||Z.datePropFormat),this);new f.Notice(r);try{if((yield this.app.vault.adapter.exists(t))||(yield this.app.vault.createFolder(t)),yield this.app.vault.adapter.exists(o))throw new Error("File already exists");let m=yield this.app.vault.create(o,r);this.app.workspace.activeLeaf.openFile(m)}catch(c){new f.Notice(c.toString())}})}toggleTodo(){let t=this.app.workspace.getActiveFile();if(t.extension!=="md"){new f.Notice("This is not an entry");return}if(t.basename.endsWith(" - todo")){let e=t.path.replace(" - todo","");this.app.fileManager.renameFile(t,e)}else{let e=t.path.replace(t.basename,t.basename+" - todo");this.app.fileManager.renameFile(t,e)}}loadSettings(){return D(this,null,function*(){this.settings=Object.assign({},Z,yield this.loadData()),this.setHideMediaClasses(),this.setColorClasses()})}setHideMediaClasses(){this.settings.hideMediaFiles?document.body.classList.add("hide-media-files"):document.body.classList.remove("hide-media-files")}setColorClasses(){this.settings.colorMarkdownFiles?document.body.classList.add("color-markdown-files"):document.body.classList.remove("color-markdown-files")}setGridClasses(){this.settings.showMediaGrid?document.body.classList.add("enable-media-grid"):document.body.classList.remove("enable-media-grid")}saveSettings(){return D(this,null,function*(){yield this.saveData(this.settings)})}getPath(t){let e=(0,nt.default)();return e.hour()<t?this.pathFromDate(e.subtract(1,"day")):this.pathFromDate(e)}pathFromDate(t){let e=this.settings.customRootFolder?this.app.vault.getRoot().path+"/"+this.settings.customRootFolder:this.app.vault.getRoot().path,o=[t.year().toString().substring(0,3)+"0s",t.format("YYYY"),t.format("YYYY-MM"),t.format("YYYY-MM-DD")].join("/");return e+"/"+o}};function Et(h,t){return D(this,null,function*(){return`---
date: ${h}
---

`})}var ct=class extends f.PluginSettingTab{constructor(t,e){super(t,e);this.plugin=e}display(){let{containerEl:t}=this;t.empty(),new f.Setting(t).setName("Root folder").setDesc("Set a custom folder for newly created entries").addText(y=>y.setPlaceholder("/").setValue(this.plugin.settings.customRootFolder).onChange(C=>D(this,null,function*(){this.plugin.settings.customRootFolder=C.trim(),yield this.plugin.saveSettings()}))),new f.Setting(t).setName("Start of next day").setDesc("In hours after midnight").addSlider(y=>y.setLimits(0,23,1).setValue(this.plugin.settings.startOfNextDay).setDynamicTooltip().onChange(C=>D(this,null,function*(){this.plugin.settings.startOfNextDay=C,yield this.plugin.saveSettings(),this.plugin.setStatusBar()}))),t.createEl("br"),t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"}).createEl("div",{text:"Interface",cls:"setting-item-name"}),new f.Setting(t).setName("Color entries").setDesc("Highlights open and resolved entries in different colors").addToggle(y=>y.setValue(this.plugin.settings.colorMarkdownFiles).onChange(C=>D(this,null,function*(){this.plugin.settings.colorMarkdownFiles=C,yield this.plugin.saveSettings(),this.plugin.setColorClasses()}))),new f.Setting(t).setName("Hide media files").setDesc("Only show markdown files in the file explorer").addToggle(y=>y.setValue(this.plugin.settings.hideMediaFiles).onChange(C=>D(this,null,function*(){this.plugin.settings.hideMediaFiles=C,yield this.plugin.saveSettings(),this.plugin.setHideMediaClasses()}))),new f.Setting(t).setName("Show open entry count").setDesc("Shows the number of open entries in the status bar (only on desktop)").addToggle(y=>y.setValue(this.plugin.settings.showTodoCount).onChange(C=>D(this,null,function*(){this.plugin.settings.showTodoCount=C,yield this.plugin.saveSettings(),this.plugin.setStatusBar()}))),t.createEl("br"),t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"}).createEl("div",{text:"Media",cls:"setting-item-name"}),new f.Setting(t).setName("Show media files in a grid").setDesc("Shows media files that are not separated by a new line in a grid").addToggle(y=>y.setValue(this.plugin.settings.showMediaGrid).onChange(C=>D(this,null,function*(){this.plugin.settings.showMediaGrid=C,yield this.plugin.saveSettings(),this.plugin.setGridClasses()}))),new f.Setting(t).setName("Maximize image").setDesc("Lets you click on an image to maximize it (only on desktop)").addToggle(y=>y.setValue(this.plugin.settings.maximizeMedia).onChange(C=>D(this,null,function*(){this.plugin.settings.maximizeMedia=C,yield this.plugin.saveSettings()})));let m=t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"});m.createEl("div",{text:"Time format",cls:"setting-item-name"});let M=m.createEl("div",{cls:"setting-item-description"}),w=createEl("span",{text:"If you change the time format your journal will not work with the "});M.appendChild(w);let L=createEl("a",{text:"Yesterday app",href:"https://www.yesterday.md"});w.appendChild(L),w.appendChild(document.createTextNode("."));let F=createEl("span",{text:" See the "});M.appendChild(F);let T=createEl("a",{text:"format documentation",href:"https://day.js.org/docs/en/display/format"});F.appendChild(T),F.appendChild(document.createTextNode(" for details.")),new f.Setting(t).setName("Frontmatter 'date'").setDesc("The format of the 'date' property in the frontmatter of newly created entries").addMomentFormat(y=>y.setPlaceholder(Z.datePropFormat).setValue((this.plugin.settings.datePropFormat||"")+"").setDefaultFormat(Z.datePropFormat).onChange(C=>D(this,null,function*(){let q=C.trim();this.plugin.settings.datePropFormat=q,yield this.plugin.saveSettings()})))}};
